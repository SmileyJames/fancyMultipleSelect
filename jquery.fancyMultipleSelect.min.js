(function(a){a.fn.fancyMultipleSelect=function(){var e=this;e.css("display","none");var i=a('<div class="multiple-select"><div class="item-holder"></div><div class="add-box"><input type="text" class="item-input" placeholder="New interest"></input><button class="add-item">Add</button></div></div>');e.after(i);var f=e.next();var b=f.children(".item-holder");var g=a();e.children("option").each(function(){g=g.add("<div class='item'>"+a(this).text()+"</div>")});b.append(g);var h=f.find("button.add-item");var d=f.find("input.item-input");a.expr[":"].textEqualTo=function(m,k,l){return a(m).text().toLowerCase()==l[3].toLowerCase()};a.expr[":"].startsWith=function(m,k,l){return a(m).text().toLowerCase().indexOf(l[3].toLowerCase())==0};var c=function(){g.sort(function(l,k){return a(l).data("order")-a(k).data("order")});g.detach().appendTo(b)};var j=function(){g.sort(function(l,k){if(a(l).text()<a(k).text()){return -1}if(a(l).text()>a(k).text()){return 1}return 0});g.detach().appendTo(b)};g.each(function(k){a(this).data("order",k)});g.click(function(){var k=a(this).text();a(this).toggleClass("checked");e.find("option:textEqualTo("+k+")").prop("selected",a(this).hasClass("checked"))});h.click(function(o){o.preventDefault();var n=d.val();if(n!=""){var m=false;var k;g.each(function(){if(a(this).text().toLowerCase()==n.toLowerCase()){m=true;a(this).addClass("checked");k=a(this);e.find("option:textEqualTo("+n+")").prop("selected",true)}});if(!m){k=a("<div class='item added'>"+n+"</div>");g=g.add(k);var l=a("<option>"+n+"</option>").prop("selected",true);e.append(l);k.click(function(){var p=a(this).text();a(this).remove();g=g.not(a(this));e.find("option:textEqualTo("+p+")").remove()})}b.prepend(k);k.data("order",-1);j();b.animate({scrollTop:0});d.val("")}});d.keypress(function(k){if(k.which==13){h.trigger("click")}});d.keyup(function(){var k=d.val();if(k===""){c()}else{j();var l=a(g.filter(":startsWith("+k+")")[0]);b.animate({scrollTop:l.offset().top-b.offset().top+b.scrollTop()})}});return this}}(jQuery));